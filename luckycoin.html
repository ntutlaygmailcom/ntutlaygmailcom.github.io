<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="viewport-fit=cover, initial-scale=1.0, maximum-scale=1.0"
    />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>Pei Protfolio</title>
    <link rel="stylesheet" href="./css/reset.css" />
    <link rel="stylesheet" href="./css/nav.css" />
    <link rel="stylesheet" href="./css/luckycoin.css" />
    <link rel="stylesheet" href="./css/footer.css" />
    <link rel="stylesheet" href="./css/variable.css" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/wowjs@1.1.3/css/libs/animate.min.css"
    />
    <script
      src="https://cdn.jsdelivr.net/npm/wowjs@1.1.3/dist/wow.min.js"
      defer
    ></script>

    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"
    />

    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-element-bundle.min.js"></script>
    <link href="https://fonts.cdnfonts.com/css/miso" rel="stylesheet" />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto:wght@700&display=swap"
      rel="stylesheet"
    />
  </head>

  <body>
    <nav>
      <div class="btn-group">
        <div class="logo">
          <a href="/index.html">
            <img src="./img/wlogo.svg" />
          </a>
        </div>
        <div class="btn-groupnologo">
          <a href="/designpage.html">Project</a>
          <a href="/research.html">Research</a>
          <a href="/home.html">About</a>
        </div>
      </div>
    </nav>
    <div class="hero">
      <div class="purpose">
        <img src="./img/coincover.svg" alt="" />
      </div>
      <div class="motion">
        <h1>Lucky Coin</h1>
        <p class="topp">
          Lucky Coin is a portable companion tool designed for PTSD patients. It
          offers comfort when users feel pain but cannot or do not want to talk.
          With strong privacy features, users can choose whether to share their
          data, while also supporting medical and psychological assistance.
        </p>
      </div>
    </div>

    <div class="transe"></div>

    <div class="tp_content">
      <div class="blod tp_title">
        <h2>How is the world?</h2>
        <p>
          According to WHO statistics from 2021–2022, PTSD has emerged as a
          growing health issue worldwide. Beyond environmental changes and
          trends, PTSD cases are rising each year, with war-related trauma
          accounting for the largest proportion.
        </p>
      </div>
      <div class="font">
        <img src="/img/circleana.svg" alt="" />
      </div>
    </div>
    <div class="lucycintainer">
      <div class="color">
        <img class="colorimg" src="/img/longdraw.svg" alt="" />
      </div>
      <div class="overarea"></div>
      <div class="luckywho">
        <div class="luck_wo tp_title sol">
          <h2>Lucky Who</h2>
          <p>
            PTSD (Post-Traumatic Stress Disorder) is a mental health condition
            triggered by frightening or dangerous events. After such
            experiences, people often develop distressing symptoms and may
            behave in ways that are unusual for them.
          </p>
        </div>
        <div class="font">
          <img src="/img/sol.svg" alt="" />
        </div>
      </div>
      <div class="overarea"></div>

      <div class="luckywho">
        <div class="luck_wo tp_title carryfont">
          <h2>Carry Comfort</h2>
          <p>
            The Lucky Coin is designed to provide comfort for users who are in
            pain but unable or unwilling to talk to others. It is easy to carry
            and includes strong privacy features, giving PTSD patients control
            over whether their data is shared with others.
          </p>
        </div>
        <div class="carry">
          <img src="/img/carrycomfort.svg" alt="" />
        </div>
      </div>
      <div class="overarea"></div>
      <div class="luckywho">
        <div class="luck_wo tp_title flowfont">
          <h2>System Structure</h2>
          <p>
            This flow chart shows the core structure of the Lucky Coin app: from
            the home screen, users can access Talk, Data, Set, and Help. The
            system covers psychoanalysis and physiological data, supports
            personal information and network settings, and provides emergency
            features. In critical situations, the app can automatically activate
            location and notify emergency contacts or 911 to ensure user safety.
          </p>
        </div>
        <div class="luckyflow">
          <img src="/img/luckyflow.svg" alt="" />
        </div>
      </div>
      <div class="overarea"></div>
      <div class="luckywho">
        <div class="luck_wo tp_title flowfont">
          <h2>Talk & Data</h2>
          <p>
            Lucky Coin is designed as a companion product to support PTSD
            patients in coping with inner pain. In the UX, users can share their
            thoughts with AI while also contributing to Big Data. This data can
            then be integrated and used jointly as a medical resource and
            support system.
          </p>
        </div>
        <div class="luckyflow">
          <img src="/img/coinimg.svg" alt="" />
        </div>
      </div>
      <div class="overarea"></div>
      <div class="luckywho">
        <div class="luck_wo tp_title flowfont">
          <h2>Lucy coin</h2>
          <p>
            Lucky Coin is designed to be a supportive companion for users,
            especially when they feel pain but cannot or do not want to talk to
            others. It is easy to carry and has strong privacy features,
            allowing PTSD patients to decide whether to share their data with
            others.
          </p>
        </div>
        <div class="luckyflow">
          <img src="/img/endcoin.svg" alt="" />
        </div>
      </div>
    </div>
    <div class="transe bottom"></div>

    <div class="tobebatter">
      <h1>Current Version</h1>
      <h2>To Be Updated...</h2>
    </div>

    <footer>
      <div class="footersvg">
        <img src="./img/logocircal.svg" />
        <img class="footer-L" src="./img/linked.svg" />
      </div>
      <hr class="line" />
    </footer>

    <!-- Swiper JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Swiper/11.0.5/swiper-bundle.min.js"></script>

    <script>
      // 初始化 Swiper
      const swiper = new Swiper(".swiper-container", {
        loop: true,
        observer: true,
        observeParents: true,
        slidesPerView: 1,
        spaceBetween: 0,
        speed: 500,
        effect: "slide",

        // Pagination 設定 - 修復分頁器
        pagination: {
          el: ".contantfooter",
          type: "bullets",
          clickable: false,
          dynamicBullets: false,
          renderBullet: function (index, className) {
            return (
              '<span class="' +
              className +
              '" data-slide="' +
              index +
              '"></span>'
            );
          },
        },
      });

      // 新增：滑動時收合所有展開的區域
      swiper.on("slideChangeTransitionStart", function () {
        document.querySelectorAll(".tagglearea.expanded").forEach((area) => {
          area.classList.remove("expanded");
          const button = area.querySelector(".tagglebtn");
          if (button) {
            button.classList.remove("rotated");
          }

          const switchElement = area.closest(".switch");
          if (switchElement) {
            switchElement.scrollIntoView();
          }
        });
      });

      // 展開收合功能
      document.addEventListener("DOMContentLoaded", function () {
        const toggleButtons = document.querySelectorAll(".tagglebtn");

        toggleButtons.forEach((button) => {
          button.addEventListener("click", function (e) {
            e.preventDefault();
            e.stopPropagation();

            const taggleArea = this.closest(".tagglearea");
            const isExpanded = taggleArea.classList.contains("expanded");

            if (isExpanded) {
              taggleArea.classList.remove("expanded");
              this.classList.remove("rotated");
            } else {
              taggleArea.classList.add("expanded");
              this.classList.add("rotated");
            }

            // Delay Swiper update to allow for CSS transition
            setTimeout(() => {
              swiper.update();
            }, 300);
          });
        });
      });

      // 防止展開收合區域影響 swiper 滑動，但允許按鈕點擊
      document.querySelectorAll(".tagglearea").forEach((area) => {
        area.addEventListener("touchstart", function (e) {
          // 如果點擊的是展開收合按鈕，不阻止事件
          if (e.target.closest(".tagglebtn")) {
            return;
          }
          e.stopPropagation();
        });

        area.addEventListener("touchmove", function (e) {
          // 如果是在按鈕區域，不阻止事件
          if (e.target.closest(".tagglebtn")) {
            return;
          }
          e.stopPropagation();
        });
      });
    </script>
    <script>
      window.addEventListener("load", function () {
        const loadingScreen = document.getElementById("loading-screen");
        loadingScreen.style.display = "none";
      });
    </script>
  </body>
</html>
