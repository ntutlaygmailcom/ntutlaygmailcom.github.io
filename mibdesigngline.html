<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="viewport-fit=cover, initial-scale=1.0, maximum-scale=1.0"
    />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>Pei Protfolio</title>
    <link rel="stylesheet" href="./css/reset.css" />
    <link rel="stylesheet" href="./css/nav.css" />
    <link rel="stylesheet" href="./css/mibdesigngline.css" />
    <link rel="stylesheet" href="./css/footer.css" />
    <link rel="stylesheet" href="./css/variable.css" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/wowjs@1.1.3/css/libs/animate.min.css"
    />
    <script
      src="https://cdn.jsdelivr.net/npm/wowjs@1.1.3/dist/wow.min.js"
      defer
    ></script>

    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"
    />

    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-element-bundle.min.js"></script>
    <link href="https://fonts.cdnfonts.com/css/miso" rel="stylesheet" />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto:wght@700&display=swap"
      rel="stylesheet"
    />
  </head>

  <body>
    <nav>
      <div class="btn-group">
        <div class="logo">
          <a href="/index.html">
            <img src="./img/wlogo.svg" />
          </a>
        </div>
        <div class="btn-groupnologo">
          <a href="/designpage.html">Project</a>
          <a href="/research.html">Research</a>
          <a href="/home.html">About</a>
        </div>
      </div>
    </nav>
    <div class="hero">
      <div class="purpose">
        <h1>Digital Banking</h1>
        <p>
          Seamless cross-device integration for a consistent and user-friendly
          online banking experience.
        </p>
        <div class="btn">
          <a href="/mibtravel.htm">Travel Insurance</a>
          <a href="/mib.html">Fund Subscription</a>
          <a href="/mibdesigngline.html" class="active">Design guideline</a>
          <a href="/mibusertest.html">User Test</a>
        </div>
      </div>
      <div class="motion">
        <div class="mobile only-mobile">
          <img src="./img/mobilephone.svg" alt="" class="scrolling" />
        </div>
        <div class="mobile only-mobile">
          <img src="./img/mobilephone.svg" alt="" class="scrolling_down" />
        </div>
        <div class="mobile">
          <img src="./img/mobilephone.svg" alt="" class="scrolling" />
        </div>
      </div>
    </div>

    <div class="transe"></div>
    <div class="intro">
      <div class="copywrite">
        <h1>Digital Bank Design Guideline</h1>
        <p>1- Modular system improved team workflow</p>
        <p>2- Design tokens reduced cross-platform inconsistencies</p>
        <p>3- Reusable patterns sped up onboarding and scaling</p>
        <p>4- UI bug reports dropped 25% post-launch</p>
      </div>
      <div class="picture">
        <img src="./img/mib_designguide_welcome_gb_img.svg" />
      </div>
    </div>
    <div class="tocontentbtn">
      <a href="" class="wow bounceInRight" data-wow-duration="1s"
        ><img src="./img/tocontent.svg"
      /></a>
    </div>
    <div class="title">
      <p class="p1">Esun.</p>
      <h1 class="p2">Style Guide</h1>
      <p class="p3">
        Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod
        tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim
        veniam, quis nostrud exercitation
      </p>
    </div>

    <div class="typography">
      <h1>Typography</h1>
      <p class="tp">
        Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod
        tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim
        veniam, quis nostrud exercitation ullamco
      </p>
    </div>
    <div class="tp_content">
      <img src="/img/typographyimg.svg" alt="" />
      <div class="font">
        <div class="blod tp_title">
          <h2>Regular</h2>
          <p>
            Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do
            eiusmod tempor incididunt ut labore et dolore magna aliqua.
          </p>
        </div>
        <div class="normal tp_title">
          <h2 class="m">Medium</h2>
          <p>
            Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do
            eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut
          </p>
        </div>
        <div class="light tp_title">
          <h2>Bold</h2>
          <p>
            Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do
            eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut
          </p>
        </div>
      </div>
    </div>
    <div class="color">
      <h1>Color</h1>
      <p>
        Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod
        tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim
        veniam, quis nostrud exercitation ullamco
      </p>
      <img class="colorimg" src="/img/colorimg.svg" alt="" />
    </div>

    <div class="components color">
      <h1>Components Library</h1>
      <p>
        Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod
        tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim
        veniam, quis nostrud exercitation ullamco
      </p>
      <img class="colorimg" src="/img/comimg.svg" alt="" />
    </div>

    <footer>
      <div class="footersvg">
        <img src="./img/logocircal.svg" />
        <img class="footer-L" src="./img/linked.svg" />
      </div>
      <hr class="line" />
    </footer>

    <!-- Swiper JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Swiper/11.0.5/swiper-bundle.min.js"></script>

    <script>
      // 初始化 Swiper
      const swiper = new Swiper(".swiper-container", {
        loop: true,
        observer: true,
        observeParents: true,
        slidesPerView: 1,
        spaceBetween: 0,
        speed: 500,
        effect: "slide",

        // Pagination 設定 - 修復分頁器
        pagination: {
          el: ".contantfooter",
          type: "bullets",
          clickable: false,
          dynamicBullets: false,
          renderBullet: function (index, className) {
            return (
              '<span class="' +
              className +
              '" data-slide="' +
              index +
              '"></span>'
            );
          },
        },
      });

      // 新增：滑動時收合所有展開的區域
      swiper.on("slideChangeTransitionStart", function () {
        document.querySelectorAll(".tagglearea.expanded").forEach((area) => {
          area.classList.remove("expanded");
          const button = area.querySelector(".tagglebtn");
          if (button) {
            button.classList.remove("rotated");
          }

          const switchElement = area.closest(".switch");
          if (switchElement) {
            switchElement.scrollIntoView();
          }
        });
      });

      // 展開收合功能
      document.addEventListener("DOMContentLoaded", function () {
        const toggleButtons = document.querySelectorAll(".tagglebtn");

        toggleButtons.forEach((button) => {
          button.addEventListener("click", function (e) {
            e.preventDefault();
            e.stopPropagation();

            const taggleArea = this.closest(".tagglearea");
            const isExpanded = taggleArea.classList.contains("expanded");

            if (isExpanded) {
              taggleArea.classList.remove("expanded");
              this.classList.remove("rotated");
            } else {
              taggleArea.classList.add("expanded");
              this.classList.add("rotated");
            }

            // Delay Swiper update to allow for CSS transition
            setTimeout(() => {
              swiper.update();
            }, 300);
          });
        });
      });

      // 防止展開收合區域影響 swiper 滑動，但允許按鈕點擊
      document.querySelectorAll(".tagglearea").forEach((area) => {
        area.addEventListener("touchstart", function (e) {
          // 如果點擊的是展開收合按鈕，不阻止事件
          if (e.target.closest(".tagglebtn")) {
            return;
          }
          e.stopPropagation();
        });

        area.addEventListener("touchmove", function (e) {
          // 如果是在按鈕區域，不阻止事件
          if (e.target.closest(".tagglebtn")) {
            return;
          }
          e.stopPropagation();
        });
      });
    </script>
    <script>
      window.addEventListener("load", function () {
        const loadingScreen = document.getElementById("loading-screen");
        loadingScreen.style.display = "none";
      });
    </script>
  </body>
</html>
